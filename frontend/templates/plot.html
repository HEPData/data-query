<div class="plot-box">
    <div>
        <span class="drag-handle">
            <img src="img/drag-handle.svg">
        </span>

        <span data-bind="text: plot.getPointCount()"></span> points.
        x: <span data-bind="text: plot.xScaleType"></span>
        y: <span data-bind="text: plot.yScaleType"></span>

        <div style="float: right">
            <button class="plot-button" data-bind="click: togglePinned, css: {pinned: plot.config.pinned}"
             title="Pin a plot to keep it intact when you edit the filters">
                <i class="fa fa-thumb-tack"></i>
            </button>
            <button class="plot-button" data-bind="click: removePlot"
             title="Remove this plot">
                <i class="fa fa-trash-o"></i>
            </button>
        </div>
        <div style="clear: both"></div>
    </div>

    <div class="canvas-onion" data-bind="embedDom: plot.canvasOnion"></div>

    <ul class="plot-legend" data-bind="foreach: plot.config.yVars">
        <li>
            <svg class="legend-circle" width="10" height="10" data-bind="if: $parent.plot.config.colorPolicy == 'per-variable'">
                <circle r="2.5" cx="5" cy="5" data-bind="attr: {
                    fill: color
                }"></circle>
            </svg>
            <span class="legend-span" data-bind="latex: name, attr: {title: name}"></span>
        </li>
    </ul>
    <div class="controls" data-bind="if: controlsVisible">
        <button class="btn btn-primary" data-bind="click: downloadData"
                title="Download this plot data (YAML format)">
            <i class="fa fa-download"></i>
        </button>
        <button class="btn btn-primary" data-bind="click: showEditPlot">
            Edit plot
        </button>
        <button class="btn btn-primary" data-bind="click: showPublicationsDialog">
            View publications
        </button>
    </div>
</div>