// https://github.com/josephg/set2 by Joseph Gentle, MIT License
function Set2(data){this.map=new Map;this.size=0;if(data){for(var i=0;i<data.length;i++){this.add(data[i][0],data[i][1])}}}Set2.prototype.subset=function(v1){return this.map.get(v1)};Set2.prototype.has=function(v1,v2){var inner=this.map.get(v1);return inner?inner.has(v2):false};Set2.prototype.add=function(v1,v2){var inner=this.map.get(v1);if(!inner){inner=new Set;this.map.set(v1,inner)}this.size-=inner.size;inner.add(v2);this.size+=inner.size;return this};Set2.prototype.delete=function(v1,v2){var inner=this.map.get(v1);if(!inner)return false;var deleted=inner.delete(v2);if(!deleted)return false;this.size--;if(inner.size===0){this.map.delete(v1)}return true};Set2.prototype.deleteAll=function(v1){var set;if(set=this.map.get(v1)){this.size-=set.size;this.map.delete(v1);return true}return false};Set2.prototype.clear=function(){this.map.clear();this.size=0};Set2.prototype.forEach=function(fn){this.map.forEach(function(inner,v1){inner.forEach(function(v2){fn(v1,v2)})})};Set2.prototype[Symbol.iterator]=Set2.prototype.values=Set2.prototype.entries=function(){var outer=this.map.entries();var v1;var inner=null;var iterator={next:function(){var innerV;while(inner==null||(innerV=inner.next()).done){var outerV=outer.next();if(outerV.done)return outerV;v1=outerV.value[0];inner=outerV.value[1].values()}var v2=innerV.value;return{value:[v1,v2],done:false}}};iterator[Symbol.iterator]=function(){return iterator};return iterator};Set2.prototype.inspect=function(depth,options){var inspect=require(""+"util").inspect;if(depth<0){return"[Set2]"}var entries=[];this.forEach(function(v1,v2){entries.push("("+inspect(v1,options)+","+inspect(v2,options)+")")});assert.equal(entries.length,this.size);return"{[Set2] "+entries.join(", ")+" }"};